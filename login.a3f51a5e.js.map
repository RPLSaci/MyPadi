{"mappings":"AAAA,QAAQ,IAAI;AAEZ,SAAS;IACL,IAAG,SAAS,cAAc,WAAW,UAAU,SAAS,WAAU;QAC9D,SAAS,cAAc,WAAW,UAAU,OAAO;QACnD,SAAS,cAAc,WAAW,UAAU,IAAI;IACpD,OAAO;QACH,SAAS,cAAc,WAAW,UAAU,IAAI;QAChD,SAAS,cAAc,WAAW,UAAU,OAAO;IACvD;AACJ;AAEA;AACA,eAAe;IACX,IAAI;QACF,MAAM,WAAW,SAAS,eAAe,YAAY;QACrD,MAAM,WAAW,SAAS,eAAe,eAAe;QACxD,MAAM,kBAAkB,SAAS,eAAe,uBAAuB;QACvE,MAAM,UAAU,SAAS,eAAe,SAAS;QACjD,QAAQ,IAAI;QAEZ,IAAG,CAAC,SAAQ;YACV,MAAM;YACN;QACF;QACA,IAAI,aAAa,iBAAiB;YAChC,MAAM;YACN;QACF;QAEA,MAAM,WAAW;YAAE;YAAU;QAAS;QAEtC,MAAM,WAAW,MAAM,MAAM,UAAU,MAAI,UAAU;YACnD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,UAAU;QACvB;QAEA,MAAM,OAAO,MAAM,SAAS;QAC5B,QAAQ,IAAI;QACZ,IAAG,SAAS,SAAS,KAAI;YACvB,MAAM,KAAK;YACX;QACF;QACA,IAAI,SAAS,IAAI;YACf,MAAM;YACN,SAAS,SAAS,OAAO;QAC3B;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,MAAM;QACd,MAAM;IACR;AACF;AAEF,eAAe;IACX,MAAM,WAAW,SAAS,eAAe,SAAS;IAClD,MAAM,WAAW,SAAS,eAAe,YAAY;IACrD,MAAM,WAAW;QAAE;QAAU;IAAS;IAEtC,MAAM,WAAW,MAAM,MAAM,UAAU,MAAI,SAAS;QAClD,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,UAAU;IACvB;IAEA,MAAM,OAAO,MAAM,SAAS;IAC5B,IAAI,SAAS,IAAI;QACb,aAAa,QAAQ,QAAO,KAAK,UAAU;QAC3C,MAAM;QACN,SAAS,SAAS,OAAO;IAC7B,OACE,MAAM,KAAK;AAEjB","sources":["src/assets/js/loginpage.js"],"sourcesContent":["console.log(\"Login loaded\")\n\nfunction toggle(){\n    if(document.querySelector(\"#singin\").classList.contains(\"hidden\")){\n        document.querySelector(\"#singin\").classList.remove(\"hidden\")\n        document.querySelector(\"#singup\").classList.add(\"hidden\")\n    } else {\n        document.querySelector(\"#singin\").classList.add(\"hidden\")\n        document.querySelector(\"#singup\").classList.remove(\"hidden\")\n    }\n}\n\nregister()\nasync function register() {\n    try {\n      const username = document.getElementById('emailreg').value;\n      const password = document.getElementById('passwordreg').value;\n      const confirmPassword = document.getElementById('confirm-passwordreg').value;\n      const consent = document.getElementById(\"terms\").checked\n      console.log(consent)\n\n      if(!consent){\n        alert(\"Kamu harus menyetujui syarat dan ketentuan\")\n        return\n      }\n      if (password !== confirmPassword) {\n        alert('Konfirmasi kata sandi tidak cocok.');\n        return;\n      }\n  \n      const userData = { username, password };\n  \n      const response = await fetch(globalvar.api+'signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n  \n      const data = await response.json();\n      console.log(data)\n      if(response.status > 500){\n        alert(data.error)\n        return\n      }\n      if (response.ok) {\n        alert(\"Sucess, please login\");\n        document.location.href = \"./\"\n      } else {\n      }\n    } catch (error) {\n      console.error(error);\n      alert('Something went wrong.');\n    }\n  }\n  \nasync function login(){\n    const username = document.getElementById(\"email\").value\n    const password = document.getElementById(\"password\").value\n    const userData = { username, password };\n  \n    const response = await fetch(globalvar.api+'login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    });\n\n    const data = await response.json();\n    if (response.ok) {\n        localStorage.setItem(\"user\",JSON.stringify(data))\n        alert(\"Kamu sudah masuk\")\n        document.location.href = \"./index.html\"\n    } else {\n      alert(data.error);\n    }\n}"],"names":[],"version":3,"file":"login.a3f51a5e.js.map"}