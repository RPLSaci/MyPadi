{"mappings":";AAAA,QAAQ,GAAG,CAAC;AAEZ,SAAS;IACL,IAAG,SAAS,aAAa,CAAC,WAAW,SAAS,CAAC,QAAQ,CAAC,WAAU;QAC9D,SAAS,aAAa,CAAC,WAAW,SAAS,CAAC,MAAM,CAAC;QACnD,SAAS,aAAa,CAAC,WAAW,SAAS,CAAC,GAAG,CAAC;IACpD,OAAO;QACH,SAAS,aAAa,CAAC,WAAW,SAAS,CAAC,GAAG,CAAC;QAChD,SAAS,aAAa,CAAC,WAAW,SAAS,CAAC,MAAM,CAAC;IACvD;AACJ;AAEA,eAAe;IACX,IAAI;QACF,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;QAC1D,MAAM,WAAW,SAAS,cAAc,CAAC,eAAe,KAAK;QAC7D,MAAM,kBAAkB,SAAS,cAAc,CAAC,uBAAuB,KAAK;QAC5E,MAAM,UAAU,SAAS,cAAc,CAAC,SAAS,OAAO;QACxD,QAAQ,GAAG,CAAC;QAEZ,IAAG,CAAC,SAAQ;YACV,MAAM;YACN;QACF;QACA,IAAI,aAAa,iBAAiB;YAChC,MAAM;YACN;QACF;QAEA,MAAM,WAAW;sBAAE;sBAAU;QAAS;QAEtC,MAAM,WAAW,MAAM,MAAM,UAAU,GAAG,GAAC,UAAU;YACnD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC;QACZ,IAAG,SAAS,MAAM,GAAG,KAAI;YACvB,MAAM,KAAK,KAAK;YAChB;QACF;QACA,IAAI,SAAS,EAAE,EAAE;YACf,MAAM;YACN,SAAS,QAAQ,CAAC,IAAI,GAAG;QAC3B;IAEF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,MAAM;IACR;AACF;AAEF,eAAe;IACX,MAAM,WAAW,SAAS,cAAc,CAAC,SAAS,KAAK;IACvD,MAAM,WAAW,SAAS,cAAc,CAAC,YAAY,KAAK;IAC1D,MAAM,WAAW;kBAAE;kBAAU;IAAS;IAEtC,MAAM,WAAW,MAAM,MAAM,UAAU,GAAG,GAAC,SAAS;QAClD,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,IAAI,SAAS,EAAE,EAAE;QACb,aAAa,OAAO,CAAC,QAAO,KAAK,SAAS,CAAC;QAC3C,MAAM;QACN,SAAS,QAAQ,CAAC,IAAI,GAAG;IAC7B,OACE,MAAM,KAAK,KAAK;AAEtB","sources":["src/assets/js/loginpage.js"],"sourcesContent":["console.log(\"Login loaded\")\n\nfunction toggle(){\n    if(document.querySelector(\"#singin\").classList.contains(\"hidden\")){\n        document.querySelector(\"#singin\").classList.remove(\"hidden\")\n        document.querySelector(\"#singup\").classList.add(\"hidden\")\n    } else {\n        document.querySelector(\"#singin\").classList.add(\"hidden\")\n        document.querySelector(\"#singup\").classList.remove(\"hidden\")\n    }\n}\n\nasync function register() {\n    try {\n      const username = document.getElementById('emailreg').value;\n      const password = document.getElementById('passwordreg').value;\n      const confirmPassword = document.getElementById('confirm-passwordreg').value;\n      const consent = document.getElementById(\"terms\").checked\n      console.log(consent)\n\n      if(!consent){\n        alert(\"Kamu harus menyetujui syarat dan ketentuan\")\n        return\n      }\n      if (password !== confirmPassword) {\n        alert('Konfirmasi kata sandi tidak cocok.');\n        return;\n      }\n  \n      const userData = { username, password };\n  \n      const response = await fetch(globalvar.api+'signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n  \n      const data = await response.json();\n      console.log(data)\n      if(response.status > 500){\n        alert(data.error)\n        return\n      }\n      if (response.ok) {\n        alert(\"Sucess, please login\");\n        document.location.href = \"./\"\n      } else {\n      }\n    } catch (error) {\n      console.error(error);\n      alert('Something went wrong.');\n    }\n  }\n  \nasync function login(){\n    const username = document.getElementById(\"email\").value\n    const password = document.getElementById(\"password\").value\n    const userData = { username, password };\n  \n    const response = await fetch(globalvar.api+'login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    });\n\n    const data = await response.json();\n    if (response.ok) {\n        localStorage.setItem(\"user\",JSON.stringify(data))\n        alert(\"Kamu sudah masuk\")\n        document.location.href = \"./index.html\"\n    } else {\n      alert(data.error);\n    }\n}"],"names":[],"version":3,"file":"loginpage.js.map"}