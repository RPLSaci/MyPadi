{"mappings":"","sources":["src/assets/js/login.js"],"sourcesContent":["function toggle(){\n    if(document.querySelector(\"#singin\").classList.contains(\"hidden\")){\n        document.querySelector(\"#singin\").classList.remove(\"hidden\")\n        document.querySelector(\"#singup\").classList.add(\"hidden\")\n    } else {\n        document.querySelector(\"#singin\").classList.add(\"hidden\")\n        document.querySelector(\"#singup\").classList.remove(\"hidden\")\n    }\n}\n\n// JavaScript code\nasync function register() {\n    try {\n      const username = document.getElementById('emailreg').value;\n      const password = document.getElementById('passwordreg').value;\n      const confirmPassword = document.getElementById('confirm-passwordreg').value;\n      const consent = document.getElementById(\"terms\").checked\n      console.log(consent)\n\n      if(!consent){\n        alert(\"Kamu harus menyetujui syarat dan ketentuan\")\n        return\n      }\n      if (password !== confirmPassword) {\n        alert('Konfirmasi kata sandi tidak cocok.');\n        return;\n      }\n  \n      const userData = { username, password };\n  \n      const response = await fetch(globalvar.api+'signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n  \n      const data = await response.json();\n      console.log(data)\n      if(response.status > 500){\n        alert(data.error)\n        return\n      }\n      if (response.ok) {\n        alert(\"Sucess, please login\");\n        document.location.href = \"./\"\n      } else {\n      }\n    } catch (error) {\n      console.error(error);\n      alert('Something went wrong.');\n    }\n  }\n  \nasync function login(){\n    const username = document.getElementById(\"email\").value\n    const password = document.getElementById(\"password\").value\n    const userData = { username, password };\n  \n    const response = await fetch(globalvar.api+'login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    });\n\n    const data = await response.json();\n    if (response.ok) {\n        localStorage.setItem(\"user\",JSON.stringify(data))\n        alert(\"Kamu sudah masuk\")\n        document.location.href = \"./index.html\"\n    } else {\n      alert(data.error);\n    }\n}"],"names":[],"version":3,"file":"login.3e6398a0.js.map"}